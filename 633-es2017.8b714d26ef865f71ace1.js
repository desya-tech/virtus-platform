"use strict";(self.webpackChunkappdemo_ng12=self.webpackChunkappdemo_ng12||[]).push([[633],{10633:function(t,e,i){i.r(e),i.d(e,{GroupPointModule:function(){return G}});var n=i(62224),r=i(28127),o=i(90030),s=i(57147);let u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-group-point-layout"]],decls:1,vars:0,template:function(t,e){1&t&&s._UZ(0,"router-outlet")},directives:[o.lC],styles:[""]}),t})();var p=i(47112),l=i(75688),a=i(74693),c=i.n(a),g=i(10514),d=i(41569),h=i(7333),Z=i(94968);function b(t,e){if(1&t&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Oqu(t.BP_GROUP_NAME)}}function f(t,e){1&t&&(s.TgZ(0,"span"),s._UZ(1,"i",30),s.qZA())}function m(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td",24),s.TgZ(2,"p"),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"td",24),s.YNc(5,b,2,1,"p",19),s.qZA(),s.TgZ(6,"td"),s.TgZ(7,"div",25),s.TgZ(8,"button",26),s._UZ(9,"i",27),s.qZA(),s._uU(10,"\xa0 "),s.TgZ(11,"button",28),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().confirmBox("delete",e)}),s.YNc(12,f,2,0,"span",29),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(3),s.Oqu(t.GROUP_POINT_NAME),s.xp6(2),s.Q6J("ngForOf",t.group_bp_list),s.xp6(3),s.MGl("routerLink","edit/",t.GROUP_POINT_ID,""),s.xp6(3),s.Q6J("disabled",t.isDeleting),s.xp6(1),s.Q6J("ngIf",!t.isDeleting)}}const A=function(t,e){return{itemsPerPage:t,currentPage:e}};let T=(()=>{class t{constructor(t,e){this.groupPointService=t,this.alertService=e,this.subs=new l.Y,this.isManaging=!1,this.gridLayout=!0,this.activities=null,this.grouppoint=null,this.p=1,this.count=10,this.countdata=null}ngOnInit(){this.subs.add(this.groupPointService.getAll().pipe((0,p.P)()).subscribe(t=>{this.grouppoint=t,this.countdata=this.grouppoint.length}))}delete(t){this.alertService.loading();const e=this.grouppoint.find(e=>e.GROUP_POINT_ID===t.GROUP_POINT_ID);this.subs.add(this.groupPointService.delete(t.GROUP_POINT_ID).pipe((0,p.P)()).subscribe(()=>{e.isDeleting=!0,this.grouppoint=this.grouppoint.filter(e=>e.GROUP_POINT_ID!==t.GROUP_POINT_ID),this.countdata=this.grouppoint.length,this.alertService.success()},t=>{this.alertService.error(t)}))}onCBChanged(t){this.isManaging=t}confirmBox(t,e){"delete"==t&&c().fire({title:"Are you sure want to delete?",text:e.GROUP_POINT_NAME,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(t=>{t.value&&this.delete(e)})}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(g.T),s.Y36(d.c9))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-group-point"]],decls:48,vars:12,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],["routerLink","add",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-plus","mr-5"],[1,"tables-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card-style","mb-30"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3"],[1,"left"],[1,"right"],[1,"table-search","d-flex"],["action","#"],["type","text","name","something","placeholder","Search...",3,"ngModel","ngModelChange"],[1,"lni","lni-search-alt"],[1,"table-wrapper","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pt-10","d-flex","flex-wrap","justify-content-between"],[1,"text-sm","text-gray"],[1,"text-right"],[3,"pageChange"],[1,"min-width"],[1,"action"],[1,"text-primary",2,"cursor","pointer",3,"routerLink"],[1,"lni","lni-pencil-alt"],[1,"text-danger",3,"disabled","click"],[4,"ngIf"],[1,"lni","lni-trash-can"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h4",1),s._uU(2,"Group Point"),s.qZA(),s.TgZ(3,"button",2),s._UZ(4,"i",3),s._uU(5," Add "),s.qZA(),s.qZA(),s.TgZ(6,"div",4),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"div",7),s.TgZ(10,"div",8),s._UZ(11,"div",9),s.qZA(),s.TgZ(12,"div",10),s.TgZ(13,"div",11),s.TgZ(14,"p"),s._uU(15,"Show "),s.TgZ(16,"span"),s._uU(17,"10"),s.qZA(),s._uU(18," entries"),s.qZA(),s.qZA(),s.TgZ(19,"div",12),s.TgZ(20,"div",13),s.TgZ(21,"form",14),s.TgZ(22,"input",15),s.NdJ("ngModelChange",function(t){return e.filterdata=t}),s.qZA(),s.TgZ(23,"button"),s._UZ(24,"i",16),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"div",17),s.TgZ(26,"table",18),s.TgZ(27,"thead"),s.TgZ(28,"tr"),s.TgZ(29,"th"),s.TgZ(30,"h6"),s._uU(31,"Group Point"),s.qZA(),s.qZA(),s.TgZ(32,"th"),s.TgZ(33,"h6"),s._uU(34,"Bp Group"),s.qZA(),s.qZA(),s.TgZ(35,"th"),s.TgZ(36,"h6"),s._uU(37,"Action"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(38,"tbody"),s.YNc(39,m,13,5,"tr",19),s.ALo(40,"paginate"),s.ALo(41,"filter"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(42,"div",20),s.TgZ(43,"div",11),s.TgZ(44,"p",21),s._uU(45),s.qZA(),s.qZA(),s.TgZ(46,"div",22),s.TgZ(47,"pagination-controls",23),s.NdJ("pageChange",function(t){return e.p=t}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(22),s.Q6J("ngModel",e.filterdata),s.xp6(17),s.Q6J("ngForOf",s.xi3(40,3,s.xi3(41,6,e.grouppoint,e.filterdata),s.WLB(9,A,e.count,e.p))),s.xp6(6),s.hij("Total ",e.countdata," Group"))},directives:[o.rH,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,n.sg,h.LS,n.O5],pipes:[h._s,Z.Z],styles:[""]}),t})();var v=i(432),_=i(32543);function q(t,e){1&t&&(s.TgZ(0,"h4",19),s._uU(1,"New Group Point"),s.qZA())}function P(t,e){1&t&&(s.TgZ(0,"h4",19),s._uU(1,"Edit Group Point"),s.qZA())}function U(t,e){1&t&&(s.TgZ(0,"div",21),s._uU(1,"*Group Point required"),s.qZA())}function x(t,e){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,U,2,0,"div",20),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.f.GROUP_POINT_NAME.errors.required)}}function O(t,e){1&t&&s._UZ(0,"span")}const I=function(t){return{"is-invalid":t}},N=function(){return{standalone:!0}};let S=(()=>{class t{constructor(t,e,i,n,r,o){this.formBuilder=t,this.route=e,this.router=i,this.groupPointService=n,this.alertService=r,this.bpGroupService=o,this.subs=new l.Y,this.loading=!1,this.submitted=!1,this.data=null,this.bpgroup=null,this.bpgroupall=null,this.selectedbpgroup=null}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.form=this.formBuilder.group({GROUP_POINT_ID:[0],GROUP_POINT_NAME:["",r.kI.required],ISACTIVE:[!0],group_bp_list:[""]}),this.subs.add(this.bpGroupService.getbygroupbp().subscribe(t=>{this.isAddMode?this.bpgroupall=t:this.subs.add(this.groupPointService.getgrouppointbp(this.id).pipe((0,p.P)()).subscribe(e=>{this.bpgroupall=t,e.forEach(t=>{null!==this.bpgroupall&&this.bpgroupall.push(t)})}))})),this.isAddMode||(this.subs.add(this.groupPointService.getById(this.id).pipe((0,p.P)()).subscribe(t=>{this.form.patchValue(t)})),this.subs.add(this.groupPointService.getgrouppointbp(this.id).pipe((0,p.P)()).subscribe(t=>{this.selectedbpgroup=t})))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.isAddMode?this.create():this.update())}create(){this.alertService.loading(),this.subs.add(this.groupPointService.create(this.form.value).pipe((0,p.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../"],{relativeTo:this.route})},error:t=>{this.alertService.error(t),this.loading=!1}}))}update(){this.alertService.loading(),this.subs.add(this.groupPointService.update(this.id,this.form.value).pipe((0,p.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../../"],{relativeTo:this.route})},error:t=>{this.alertService.error(t),this.loading=!1}}))}onSelection(t){this.form.get("group_bp_list").setValue(t)}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(r.qu),s.Y36(o.gz),s.Y36(o.F0),s.Y36(g.T),s.Y36(d.c9),s.Y36(v._))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-group-point-add-edit"]],decls:38,vars:14,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],["class","mr-40",4,"ngIf"],["routerLink","/group-point",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-chevron-left","mr-5"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-lg-6"],[1,"card-style","mb-30"],[1,"divider"],[1,"input-style-1"],["type","text","formControlName","GROUP_POINT_NAME",3,"ngClass"],[4,"ngIf"],[1,"select-position"],["bindLabel","BP_GROUP_NAME","placeholder","Select Bp Group","appendTo","body",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],[1,"form-check","form-switch","toggle-switch","mb-30"],["formControlName","ISACTIVE","type","checkbox","id","toggleSwitc1",1,"form-check-input"],["for","toggleSwitch1",1,"form-check-label"],["routerLink","/group-point",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover","btn-sm"],[1,"main-btn","primary-btn","rounded-btn","btn-hover","btn-sm",3,"disabled"],[1,"mr-40"],["style","color:red",4,"ngIf"],[2,"color","red"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.YNc(1,q,2,0,"h4",1),s.YNc(2,P,2,0,"h4",1),s.TgZ(3,"button",2),s._UZ(4,"i",3),s._uU(5," Back "),s.qZA(),s.qZA(),s.TgZ(6,"div",4),s.TgZ(7,"form",5),s.NdJ("ngSubmit",function(){return e.onSubmit()}),s.TgZ(8,"div",6),s.TgZ(9,"div",7),s.TgZ(10,"h5"),s._uU(11,"Group Name"),s.qZA(),s.TgZ(12,"span",8),s._UZ(13,"hr"),s.qZA(),s.TgZ(14,"div",9),s.TgZ(15,"label"),s._uU(16,"Group Name"),s.qZA(),s._UZ(17,"input",10),s.YNc(18,x,2,1,"div",11),s.qZA(),s.TgZ(19,"div"),s.TgZ(20,"label"),s._uU(21,"BP Group"),s.qZA(),s.TgZ(22,"div",12),s.TgZ(23,"ng-select",13),s.NdJ("change",function(t){return e.onSelection(t)})("ngModelChange",function(t){return e.selectedbpgroup=t}),s.qZA(),s.qZA(),s.qZA(),s._UZ(24,"br"),s.TgZ(25,"div",14),s._UZ(26,"input",15),s.TgZ(27,"label",16),s._uU(28,"Is Active"),s.qZA(),s.qZA(),s.TgZ(29,"span",8),s._UZ(30,"hr"),s.qZA(),s.TgZ(31,"div"),s.TgZ(32,"button",17),s._uU(33," Cancel "),s.qZA(),s._uU(34,"\xa0 "),s.TgZ(35,"button",18),s.YNc(36,O,1,0,"span",11),s._uU(37," \xa0Save\xa0 "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",e.isAddMode),s.xp6(1),s.Q6J("ngIf",!e.isAddMode),s.xp6(5),s.Q6J("formGroup",e.form),s.xp6(10),s.Q6J("ngClass",s.VKq(11,I,e.submitted&&e.f.GROUP_POINT_NAME.errors)),s.xp6(1),s.Q6J("ngIf",e.submitted&&e.f.GROUP_POINT_NAME.errors),s.xp6(5),s.Q6J("items",e.bpgroupall)("multiple",!0)("ngModel",e.selectedbpgroup)("ngModelOptions",s.DdM(13,N)),s.xp6(12),s.Q6J("disabled",e.loading),s.xp6(1),s.Q6J("ngIf",e.loading))},directives:[n.O5,o.rH,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,n.mk,_.w9,r.On,r.Wl],styles:[""]}),t})();const w=[{path:"group-point",component:u,children:[{path:"",component:T},{path:"add",component:S},{path:"edit/:id",component:S}]}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(w)],o.Bz]}),t})(),G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,r.UX,y,_.A0,r.u5,h.JX,Z.h]]}),t})()}}]);